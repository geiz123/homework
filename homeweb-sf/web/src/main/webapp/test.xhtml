<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Test Getting Person's Address with JSF 2.0</title>
    <f:facet name="first">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type"
            content="text/html; charset=UTF-8" />
        <meta name="viewport"
            content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
    </f:facet>
</h:head>

<h:body>
    <h:outputStylesheet library="css" name="newcss.css" />
    <h:form>
        <p:dataTable var="address" value="#{menuBean.addresses}">
            <p:column style="width:16px">
                <p:rowToggler />
            </p:column>
            <p:column headerText="Street Address">
                <h:outputText value="#{address.street1}" />
            </p:column>
            <p:column headerText="Street Address 2">
                <h:outputText value="#{address.street2}" />
            </p:column>
            
            <p:column headerText="City">
                <h:outputText value="#{address.city}" />
            </p:column>

            <p:column headerText="State">
                <h:outputText value="#{address.state}" />
            </p:column>
            
            <p:column headerText="Zipcode">
                <h:outputText value="#{address.zipCode}" />
            </p:column>
            
            <p:rowExpansion>
                <p:dataTable var="person"
                    value="#{menuBean.getPersonFromAddId(address.id)}" emptyMessage="No one lives here!">
                    <p:column headerText="Last Name">
                        <h:outputText value="#{person.lastName}" />
                    </p:column>
                    <p:column headerText="First Name">
                        <h:outputText value="#{person.firstName}" />
                    </p:column>
                </p:dataTable>
            </p:rowExpansion>
        </p:dataTable>
    </h:form>
</h:body>
</html>